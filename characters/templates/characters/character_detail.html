{% extends "base.html" %}

{% block title %}View Character | DnD Character Creator{% endblock %}

{% block content %}
    <h1>Character Sheet</h1>
    <div class="intro">
        <p>Name: {{ character.name }}</p>
        <p>Class: {{ character.class_data.name }}</p>
        <p>Race: {{ character.race_data.name }}</p>
        <p>Age: {{ character.age }}</p>
        <p>Gender: {{ character.gender }}</p>
        <p>Size: {{ character.race_data.size }}</p>
        <p>Speed: {{ character.race_data.speed }} ft</p>
        <p>Hit Die: 1d{{ character.class_data.hitDie }}</p>
    </div>
    <div class="character-background">
        <h4>Background</h4>
        <p>Alignment: {{ character.alignment }}</p>
        <p>Background: {{ character.background }}</p>
        {% if character.traits %}
            <p>Traits:</p>
            {% for trait in character.traits %}
                <p>{{ trait }}</p>
            {% endfor %}
        {% endif %}
        {% if character.ideals %}
            <p>Ideals:</p>
            {% for ideal in character.ideals %}
                <p>{{ ideal }}</p>
            {% endfor %}
        {% endif %}
        {% if character.bonds %}
            <p>Bonds:</p>
            {% for bond in character.bonds %}
                <p>{{ bond }}</p>
            {% endfor %}
        {% endif %}
        {% if character.flaws %}
            <p>Flaws:</p>
            {% for flaw in character.flaws %}
                <p>{{ flaw }}</p>
            {% endfor %}
        {% endif %}
    </div>

    <div class="character-appearance">
        <h4>Appearance</h4>
        <p>Height: {{ character.height }}</p>
        <p>Build: {{ character.build }}</p>
        <p>Skin Tone: {{ character.skin_tone }}</p>
        <p>Eye Color: {{ character.eye_color }}</p>
        <p>Eye Shape: {{ character.eye_shape }}</p>
        {% if character.distinguishing_features %}
            <p>Distinguishing Features:</p>
            {% for feature in character.distinguishing_features %}
                <p>{{ feature }}</p>
            {% endfor %}
        {% endif %}
        <div>
            <h5>Hair</h5>
            <p>Color: {{ character.hair_color }}</p>
            <p>Style: {{ character.hair_style }}</p>
            <p>Length: {{ character.hair_length }}</p>
            <p>Type: {{ character.hair_type }}</p>
            <p>Facial Hair Style: {{ character.facial_hair_style }}</p>
            <p>Facial Hair Length: {{ character.facial_hair_length }}</p>
        </div>
        <div>
            <h5>Clothing</h5>
            <p>Style: {{ character.clothing_style }}</p>
            {% if character.clothing_colors %}
                <p>Colors:</p>
                {% for color in character.clothing_colors %}
                    <p>{{ color }}</p>
                {% endfor %}
            {% endif %}
            {% if character.clothing_accessories %}
                <p>Accessories:</p>
                {% for accessory in character.clothing_accessories %}
                    <p>{{ accessory }}</p>
                {% endfor %}
            {% endif %}
        </div>
        
    </div>

    <div class="proficiencies">
        <h4>Proficiencies</h4>
        {% if character.class_data.proficiencies.armor %}
            <p>Armor:</p>
            {% for armor in character.class_data.proficiencies.armor %}
                <p>{{ armor.name }}</p>
            {% endfor %}
        {% endif %}
        {% if character.class_data.proficiencies.weapons %}
            <p>Weapons:</p>
            {% for weapon in character.class_data.proficiencies.weapons %}
                <p>{{ weapon.name }}</p>
            {% endfor %}
        {% endif %}
        {% if character.class_data.proficiencies.savingThrows %}
            <p>Saving Throws:</p>
            {% for saving_throw in character.class_data.proficiencies.savingThrows %}
                <p>{{ saving_throw.name }}</p>
            {% endfor %}
        {% endif %}
        {% if character.character_class_skill_choices %}
            <p>Skills:</p>
            {% for skill in character.character_class_skill_choices %}
                <p>{{ skill.name }}</p>
            {% endfor %}
        {% endif %}
    </div>

    <div>
        <h4>Equipment</h4>
        {% for equipment in character.class_data.equipment %}
            <p>{{ equipment.item.name }} Ã— {{ equipment.quantity }}</p>
        {% endfor %}
    </div>

    {% if character.race_data.additionalProperties or character.class_data.additionalProperties or character.race_data.darkvision %}
        <div class="additional-properties">
            <h4>Additional Properties</h4>
            {% for property in character.race_data.additionalProperties %}
                <div>
                    <p>{{ property.name }}</p>
                    <p>{{ property.description }}</p>
                </div>
            {% endfor %}
            {% for property in character.class_data.additionalProperties %}
                <div>
                    <p>{{ property.name }}</p>
                    <p>{{ property.description }}</p>
                </div>
            {% endfor %}
            {% if character.race_data.darkvision %}
                <div>
                    <p>Darkvision</p>
                    <p>You can see in darkened areas up to a distance of 60 ft.</p>
                </div>
            {% endif %}
        </div>
    {% endif %}

    {% if character.character_class_cantrip_choices or character.character_class_spell_choices %}
    <div class="spellcasting">
        <h4>Spellcasting</h4>
        {% if character.character_class_cantrip_choices %}
            <p>Cantrips:</p>
            {% for cantrip in character.character_class_cantrip_choices %}
                <p>{{ cantrip.name }}</p>
                <p>{{ cantrip.description }}</p>
            {% endfor %}
        {% endif %}
        {% if character.character_class_spell_choices %}
            <p>Spells:</p>
            {% for spell in character.character_class_spell_choices %}
                <p>{{ spell.name }}</p>
                <p>{{ spell.description }}</p>
            {% endfor %}
        {% endif %}
    </div>
    {% endif %}

    <div class="ability-points">
        {% for ability in character.ability_points %}
            <div>
                <h2>{{ ability.ability.name }}</h2>
                <p>{{ ability.ability.description }}</p>
                <p>Base Score: {{ ability.base_value }}</p>
                <p>Racial Bonus: {{ ability.racial_bonus }}</p>
                <p>Total Score: {{ ability.derived_value }}</p>
                <p>Modifier: {{ ability.modifier }}</p>
            </div>
        {% endfor %}
    </div>
    
{% endblock %}